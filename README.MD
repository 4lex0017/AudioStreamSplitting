# AudioStreamSplitting

- [AudioStreamSplitting](#audiostreamsplitting)
  - [Using AudioStreamSplitting](#using-audiostreamsplitting)
    - [Setup](#setup)
  - [Development](#development)
    - [System Requirements](#system-requirements)
    - [Installation](#installation)
      - [Manual setup](#manual-setup)
      - [Docker](#docker)
        - [Without extension](#without-extension)
        - [With extension](#with-extension)
    - [Usage](#usage)
      - [Available commands](#available-commands)
  - [License](#license)

---

## Using AudioStreamSplitting

### Setup

1. Generate a valid API key for the [AcoustID](https://acoustid.org/) and/or [Shazam](https://rapidapi.com/apidojo/api/shazam) song recognition APIs. While this program can work if you only provide one of the two, it is highly recommended to have both. More song recognition APIs may be supported in the future.
2. Download the latest release of [fpcalc](https://acoustid.org/chromaprint) for your system from [the AcoustID website](https://acoustid.org/chromaprint) if you want to use the AcoustID API. Put it in a location of your choosing and add it to your system PATH. You will probably need to restart your system before first using AudioStreamSplitting.
3. Download the latest release of AudioStreamSplitting from the "Releases" section of this site and run it.

## Development

### System Requirements

- Python 3.10 or later: [Download here](https://www.python.org/downloads/)
- pip: [Download here](https://pip.pypa.io/en/stable/cli/pip_download/)
- pyinstaller: [Download here](https://pypi.org/project/pyinstaller/)
- Node.js 18.17.1 or later: [Download here](https://nodejs.org/en/download)

### Installation

You can choose between manual setup or using Docker for simplicity.

#### Manual setup

1. Clone the repository to your local machine.

2. Install the required Python packages using the command `pip install -r requirements.txt`.

3. Install Node.js modules using the command `npm install`.

4. Setup `lint-staged` and `simple-git-hooks` using the command `npx simple-git-hooks`

5. Download the latest release of [fpcalc](https://acoustid.org/chromaprint) for your system from [the AcoustID website](https://acoustid.org/chromaprint) if you want to use the AcoustID API. Put it in a location of your choosing and add it to your system PATH. You will probably need to restart your system before first using AudioStreamSplitting.

6. Only if you plan to use the Record-in-App feature. [Download `ffmpeg` (https://ffmpeg.org/download.html). Make sure that `ffmpeg` is available in your system's PATH so that the application can use it to process audio.

#### Docker

If you are using VSCode as your code editor, it is recommended to set up a container with the appropriate extension.

##### Without extension

Build the Docker image using the command:

```bash
docker build -t ass .
```

Run the container using the command:

```bash
docker run -v ${pwd}/workspaces/AudioStreamSplitting ass -it bash
```

##### With extension

1. Download the VSCode Remote - Containers extension from [here](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).

2. Press `Ctrl + Shift + P` to open the command palette, then select `Dev Container: Reopen in container`.

### Usage

For normal development, use the following commands in 2 different terminals:

```bash
npm run fe
```

```bash
npm run be:debug
```

#### Available commands

| Command                  | Description                      |
| ------------------------ | -------------------------------- |
| npm run `dev:fe`         | Run frontend server              |
| npm run `dev:be`         | Run backend server               |
| npm run `be:debug`       | Run backend server in debug mode |
| npm run `view:app`       | Run desktop app                  |
| npm run `view:app:debug` | Run desktop app in debug mode    |
| npm run `build:fe`       | Build frontend (html, js, css)   |
| npm run `build:app`      | Build desktop app                |
| npm run `preview`        | Preview built desktop app        |

## License

This software is licensed under the GNU GPLv3 license, as found in the LICENSE.txt file or [on the GNU website](https://www.gnu.org/licenses/gpl-3.0.en.html). Note that this license only applies to the software itself, not to audio files generated by it, as they still belong to the songs' original copyright holders.
